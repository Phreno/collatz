#!/usr/bin/env coffee

# Développeur ....: K3rn€l_P4n1K
# Nom ............: collatz
# Description ....: applique sur un nombre l'hypothèse de collatz
# Version ........: 1.0
# Date ...........: dimanche 16 avril 2017, 15:08:46 (UTC+0200)
# Dépendances ....: CoffeeScript version 1.10.0

# Fonctionnalité .: boucle jusqu'à tomber sur un nombre déjà rencontré
# Intention ......: voir les étapes appliquées sur des nombres premiers
# Remarque .......: N/A
MAX_STEP=1000000

collatz = (input)->
  number=input
  result=[]
  while result.indexOf(number) is -1
    result.push number
    if number % 2 is 0 then number /= 2
    else number = 3*number + 1
    if result.length > MAX_STEP
      number="[#{MAX_STEP}+]"
      break
  result.push "##{number}"
  console.log(result.join ";")

collatz process.argv[2]
